box: python:2.7-slim
dev:
  steps:
    - pip-install
    - internal/watch:
        code: python app.py
        reload: true

build:
  steps:
    - pip-install
    - script:
        name: python unit test
        code: |
          python app_test.py

deploy:
  steps:
    - internal/docker-push:
        username: $USERNAME
        password: $PASSWORD
        tag: latest
        repository: kord/getting-started-python
        registry: https://registry.giantswarm.io
